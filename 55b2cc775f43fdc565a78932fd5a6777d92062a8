{
  "comments": [
    {
      "key": {
        "uuid": "fa2559ec_4c3c3d94",
        "filename": "jobcoordinator/jobcoordinator-impl/src/main/java/org/opendaylight/infrautils/jobcoordinator/internal/JobCoordinatorImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 335,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-06-23T19:09:46Z",
      "side": 1,
      "message": "This won\u0027t return null but it\u0027s ok to check",
      "revId": "55b2cc775f43fdc565a78932fd5a6777d92062a8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa2559ec_0c5245dd",
        "filename": "jobcoordinator/jobcoordinator-impl/src/main/java/org/opendaylight/infrautils/jobcoordinator/internal/JobCoordinatorImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 351,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-06-23T19:09:46Z",
      "side": 1,
      "message": "Wondering why we loop here instead of just await since we check for jobs in the run method - isJobExistsToExecute seems redundant.",
      "revId": "55b2cc775f43fdc565a78932fd5a6777d92062a8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da2a55be_529eaa57",
        "filename": "jobcoordinator/jobcoordinator-impl/src/main/java/org/opendaylight/infrautils/jobcoordinator/internal/JobCoordinatorImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 351,
      "author": {
        "id": 5278
      },
      "writtenOn": "2017-06-27T02:57:34Z",
      "side": 1,
      "message": "This is being added for two reasons.\n\n1. When jobs are enqueued after iterator in JobQueueHandler crossed its Map.Entry and if we don\u0027t have this check, then there will be ~1 sec delay in processing that job entry. This check will avoid that.\n2. When there is no job entries in any of the job queue, it is unnecessary to run the loop in JobQueueHandler (which has unnecessary polling of the queue though it is empty) and avoided by isJobExistsToExecute method.",
      "parentUuid": "fa2559ec_0c5245dd",
      "revId": "55b2cc775f43fdc565a78932fd5a6777d92062a8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da2a55be_d8b59932",
        "filename": "jobcoordinator/jobcoordinator-impl/src/main/java/org/opendaylight/infrautils/jobcoordinator/internal/JobCoordinatorImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 351,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-06-27T11:19:48Z",
      "side": 1,
      "message": "re: #2, processing/checks in isJobExistsToExecute and JobQueueHandler#run are essentially equivalent, i.e. they both iterate the JobQueue entries and check getExecutingEntry and one checks isEmpty and the other calls poll. So the processing is redundant.  However, this isn\u0027t a big deal. I understand the concern re: #1.  I think you could also alleviate #1 by using a  boolean flag to indicate if a job is present.  In signalForNexJob, set the flag and in waitForJobIfNeeded, check the flag in lieu of isJobExistsToExecute.",
      "parentUuid": "da2a55be_529eaa57",
      "revId": "55b2cc775f43fdc565a78932fd5a6777d92062a8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da2a55be_78caada2",
        "filename": "jobcoordinator/jobcoordinator-impl/src/main/java/org/opendaylight/infrautils/jobcoordinator/internal/JobCoordinatorImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 351,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-06-27T14:40:43Z",
      "side": 1,
      "message": "Also clear the flag after the while loop in waitForJobIfNeeded.",
      "parentUuid": "da2a55be_d8b59932",
      "revId": "55b2cc775f43fdc565a78932fd5a6777d92062a8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da2a55be_326331b3",
        "filename": "jobcoordinator/jobcoordinator-impl/src/main/java/org/opendaylight/infrautils/jobcoordinator/internal/JobCoordinatorImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 351,
      "author": {
        "id": 5278
      },
      "writtenOn": "2017-06-28T04:58:32Z",
      "side": 1,
      "message": "Yes Tom, I agree. It reduces time complexity.",
      "parentUuid": "da2a55be_78caada2",
      "revId": "55b2cc775f43fdc565a78932fd5a6777d92062a8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}